{{- define "main" -}}
<header class="main-header">
  <h1>{{ .Title }}</h1>
</header>

<article class="main-content">
  {{- .Content | safeHTML -}}
</article>

<nav>
  <strong>Tags:</strong>
  <ul class="list">
    {{- with .Params.tags -}}
    {{- range . -}}
    <li class="content__nav-item">
      <a class="content__nav-link" href="{{- "tags/" | relURL -}}{{- . | urlize -}}">{{- . -}}</a>
    </li>
    {{- end -}}
    {{- end -}}
  </ul>
  
  <strong>Categories:</strong>
  <ul class="content__nav-list">
    {{- with .Params.categories -}}
    {{- range . -}}
    <li class="content__meta-item">
      <a class="content__meta-link" href="{{- "categories/" | relURL -}}{{- . | urlize -}}">{{- . -}}</a>
    </li>
    {{- end -}}
    {{- end -}}
  </ul>
</nav>

<script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    if (window.MathJax) {
      MathJax.typesetPromise();
    }
  });
  window.MathJax = {
    tex: {
      inlineMath: [['\\(', '\\)']],  // Inline math
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  // Block math
    },
    svg: {
      fontCache: 'global' // Menggunakan cache untuk mempercepat rendering
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'], // Mencegah konflik dengan tag lain
    }
  };
</script>
{{- end -}}
